#
# SIP Server Configuration File
#
# This file allows administrators to customize various operational parameters
# of the SIP server without recompiling the application.
#

# SIP Handler Process Nice Value
# The 'nice' value for the main SIP message processing thread. Lower values (more negative)
# indicate higher priority.
# Default: -5
SIP_HANDLER_NICE_VALUE=-5

# Phonebook Fetcher Interval (in seconds)
# The interval at which the phonebook fetcher thread will attempt to download
# the CSV phonebook from the configured servers.
# Default: 3600 (1 hour)
PB_INTERVAL_SECONDS=3600

# Status Update Interval (in seconds)
# The interval at which the status updater thread will check for phonebook changes
# and update the active/inactive status of entries.
# Default: 600 (10 minutes)
STATUS_UPDATE_INTERVAL_SECONDS=600

# Phonebook Servers
# Define the phonebook servers from which the CSV file will be downloaded.
# Each server should be on its own line using the format:
# PHONEBOOK_SERVER=host,port,path
# The application will try servers in the order they appear until a successful download.
# You can add up to MAX_PB_SERVERS (currently 5) entries.
PHONEBOOK_SERVER=hb9bla-vm-tunnelserver.local.mesh,80,/filerepo/Phonebook/AREDN_PhonebookV2.csv
PHONEBOOK_SERVER=hb9edi-vm-gw.local.mesh,80,/filerepo/Phonebook/AREDN_PhonebookV2.csv

# Software Health Monitoring Configuration
# Enable/disable health monitoring features for system reliability.

# Overall health monitoring enabled (1=enabled, 0=disabled)
# Default: 1 (enabled)
HEALTH_ENABLED=1

# Crash detection and reporting (1=enabled, 0=disabled)
# Tracks process crashes and restarts for reliability analysis.
# Default: 1 (enabled)
HEALTH_CRASH_REPORTING=1

# Thread health monitoring (1=enabled, 0=disabled)
# Monitors thread responsiveness and detects hung threads.
# Default: 1 (enabled)
HEALTH_THREAD_MONITORING=1

# Memory leak detection (1=enabled, 0=disabled)
# Monitors memory usage patterns to detect potential leaks.
# Default: 1 (enabled)
HEALTH_MEMORY_LEAK_DETECTION=1

# Health check interval (in seconds)
# How often to perform comprehensive health checks.
# Default: 60 (1 minute)
HEALTH_CHECK_INTERVAL=60

# Crash history retention (in days)
# How many days to keep crash and restart history.
# Default: 7 (1 week)
HEALTH_CRASH_HISTORY_DAYS=7

# Maximum restart attempts
# Maximum number of automatic restart attempts before giving up.
# Set to 0 to disable automatic restarts.
# Default: 3
HEALTH_MAX_RESTART_ATTEMPTS=3

# Health status endpoint (1=enabled, 0=disabled)
# Enable HTTP endpoint for health status queries.
# Default: 1 (enabled)
HEALTH_ENDPOINT=1

# ============================================================================
# Mesh Network Monitoring Configuration
# ============================================================================

[mesh_monitor]
# Enable mesh network monitoring (1=enabled, 0=disabled)
# Default: 1 (enabled)
enabled=1

# Monitoring mode: lightweight, full, disabled
# Default: lightweight
mode=lightweight

# Network status measurement interval (seconds)
# Default: 40
network_status_interval_s=40

# Probe window duration (seconds)
# Default: 5
probe_window_s=5

# Number of neighbor targets to probe per cycle
# Default: 2
neighbor_targets=2

# Probe UDP port
# Default: 40050
probe_port=40050

# Routing daemon: auto, olsr, babel
# Default: auto (auto-detect)
routing_daemon=auto

